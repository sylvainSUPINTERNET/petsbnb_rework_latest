FROM node:12.2.0-alpine as web-build
#Setting the working directory as /app
WORKDIR /app
#Copying package.json to Docker Image
COPY package.json /app
#Installing all dependencies.
RUN npm install
RUN npm i serve -g
# RUN npm run build can't build on AWS -> run out of memory
# Running the dev server.
CMD ["serve", "-s", "build", "-l", "3000"]
